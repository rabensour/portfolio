<!DOCTYPE html>
<html>
  <head>
    <title>Envoyer rÃªve Ã  Make</title>
  </head>
  <body>
    <h2>ğŸ“© Envoie ton rÃªve Ã  Make</h2>
    <label for="date">ğŸ—“ï¸ Date du rÃªve :</label><br /><br />
    <input
      type="text"
      id="date"
      placeholder="ex: 12 Juillet 2024"
    /><br /><br />
    <label for="dream">ğŸ’­ Ton rÃªve :</label><br /><br />
    <textarea
      id="dream"
      rows="8"
      cols="60"
      placeholder="Colle ton rÃªve ici..."
    ></textarea
    ><br /><br />
    <label for="interpretation">ğŸ” Ton interprÃ©tation :</label><br />
    <textarea
      id="interpretation"
      rows="5"
      cols="60"
      placeholder="Note ici ton interprÃ©tation (facultatif)"
    ></textarea
    ><br /><br />
    <!-- CHAMPS CACHÃ‰S POUR SUJET & THÃˆME -->
    <input type="hidden" id="sujet" /> <input type="hidden" id="theme" />
    <button onclick="sendDream()">Envoyer âœ…</button>
    <script>
      function sendDream() {
         const date = document.getElementById("date").value.trim(); 
         const texte = document.getElementById("dream").value.trim(); 
         const interpretation = document.getElementById("interpretation").value.trim(); if (!date || !texte) { return alert("Merci de remplir au moins la date et le rÃªve !"); } // Version simplifiÃ©e : extrait dÃ©but du texte 
         const sujet = texte.split(/[.?!]/)[0]?.slice(0, 100).trim() || "Sujet non dÃ©fini"; const theme = interpretation.split(/[.?!]/)[0]?.slice(0, 100).trim() || "ThÃ¨me non dÃ©fini"; document.getElementById("sujet").value = sujet; document.getElementById("theme").value = theme; fetch("https://hook.eu2.make.com/lf84fkfg9wu46db2i1zan44hcv4bbjjs", { method: "POST", headers: { "Content-Type": "application/json" }, body: JSON.stringify({ date: date, texte: texte, interpretation: interpretation, sujet: sujet, theme: theme }) }) .then(() => alert("âœ… RÃªve envoyÃ© Ã  Make avec sujet & thÃ¨me !")) .catch(e => alert("âŒ Erreur : " + e.message)); }
    </script>
  </body>
</html>
